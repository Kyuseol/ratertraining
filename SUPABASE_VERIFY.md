# âœ… Supabase ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸ ê°€ì´ë“œ

**í…Œì´ë¸” ìƒì„± ë° ë°ì´í„° í™•ì¸ ë°©ë²•**

---

## ğŸ“‹ ë°©ë²• 1: Database â†’ Tables ë©”ë‰´ (GUI ë°©ì‹)

### 1ë‹¨ê³„: Supabase Dashboard ì ‘ì†

```
https://supabase.com/dashboard
```

ë¡œê·¸ì¸ í›„ **í”„ë¡œì íŠ¸ ì„ íƒ** (mfrm-rater-training)

---

### 2ë‹¨ê³„: Table Editor ë©”ë‰´ ì´ë™

ì™¼ìª½ ì‚¬ì´ë“œë°”ì—ì„œ:

```
ğŸ  Home
ğŸ“Š Table Editor  â† ì—¬ê¸° í´ë¦­!
ğŸ” SQL Editor
ğŸ“ˆ Database
âš™ï¸  Settings
```

ë˜ëŠ”

```
ğŸ—„ï¸ Database  â† ì—¬ê¸° í´ë¦­!
   â””â”€ Tables  â† í•˜ìœ„ ë©”ë‰´
```

---

### 3ë‹¨ê³„: í…Œì´ë¸” ëª©ë¡ í™•ì¸

**Table Editor** í™”ë©´ì—ì„œ ì™¼ìª½ì— í…Œì´ë¸” ëª©ë¡ì´ í‘œì‹œë©ë‹ˆë‹¤:

```
ğŸ“ public (schema)
  â”œâ”€ ğŸ“„ admins               âœ…
  â”œâ”€ ğŸ“„ essays               âœ…
  â”œâ”€ ğŸ“„ essay_difficulties   âœ…
  â”œâ”€ ğŸ“„ mfrm_results         âœ…
  â”œâ”€ ğŸ“„ mfrm_runs            âœ…
  â”œâ”€ ğŸ“„ rubrics              âœ…
  â”œâ”€ ğŸ“„ scores               âœ…
  â””â”€ ğŸ“„ teachers             âœ…
```

**ì´ 8ê°œ í…Œì´ë¸”**ì´ ë³´ì—¬ì•¼ í•©ë‹ˆë‹¤!

---

### 4ë‹¨ê³„: ê° í…Œì´ë¸” ë‚´ìš© í™•ì¸

#### 4-1. rubrics í…Œì´ë¸” í™•ì¸ (9ê°œ ë£¨ë¸Œë¦­)

1. ì™¼ìª½ ëª©ë¡ì—ì„œ **"rubrics"** í´ë¦­
2. ì˜¤ë¥¸ìª½ì— í…Œì´ë¸” ë‚´ìš© í‘œì‹œë¨
3. **9ê°œ í–‰(row)**ì´ ìˆì–´ì•¼ í•¨:

```
id                                      | name           | display_order
----------------------------------------|----------------|---------------
10000001-0000-0000-0000-000000000001   | ì£¼ì¥ì˜ ëª…ë£Œì„±   | 1
10000001-0000-0000-0000-000000000002   | ê·¼ê±°ì˜ íƒ€ë‹¹ì„±   | 2
10000001-0000-0000-0000-000000000003   | ì˜ˆì‹œì˜ ì ì ˆì„±   | 3
10000001-0000-0000-0000-000000000004   | ë…¼ë¦¬ì  ì „ê°œ    | 4
10000001-0000-0000-0000-000000000005   | ë°˜ë¡  ê³ ë ¤      | 5
10000001-0000-0000-0000-000000000006   | ì–´íœ˜ ì‚¬ìš©      | 6
10000001-0000-0000-0000-000000000007   | ë¬¸ë²• ì •í™•ì„±    | 7
10000001-0000-0000-0000-000000000008   | ê¸€ì˜ êµ¬ì¡°      | 8
10000001-0000-0000-0000-000000000009   | ì „ì²´ì  ì™„ì„±ë„  | 9
```

âœ… **9ê°œ í–‰** í™•ì¸!

---

#### 4-2. teachers í…Œì´ë¸” í™•ì¸ (3ëª…)

1. ì™¼ìª½ ëª©ë¡ì—ì„œ **"teachers"** í´ë¦­
2. **3ê°œ í–‰**ì´ ìˆì–´ì•¼ í•¨:

```
id                                      | name   | email
----------------------------------------|--------|-------------------------
11111111-1111-1111-1111-111111111111   | ê¹€ì˜í¬  | teacher1@example.com
22222222-2222-2222-2222-222222222222   | ì´ì² ìˆ˜  | teacher2@example.com
33333333-3333-3333-3333-333333333333   | ë°•ë¯¼ìˆ˜  | teacher3@example.com
```

âœ… **3ê°œ í–‰** í™•ì¸!

---

#### 4-3. essays í…Œì´ë¸” í™•ì¸ (3ê°œ)

1. ì™¼ìª½ ëª©ë¡ì—ì„œ **"essays"** í´ë¦­
2. **3ê°œ í–‰**ì´ ìˆì–´ì•¼ í•¨:

```
id                                      | title                | grade_level
----------------------------------------|---------------------|----------------
20000001-0000-0000-0000-000000000001   | ë‚˜ì˜ ê¿ˆ              | ê³ ë“±í•™êµ 1í•™ë…„
20000001-0000-0000-0000-000000000002   | í™˜ê²½ ë³´í˜¸ì˜ ì¤‘ìš”ì„±   | ê³ ë“±í•™êµ 2í•™ë…„
20000001-0000-0000-0000-000000000003   | ì¸ê³µì§€ëŠ¥ ì‹œëŒ€ì˜ êµìœ¡ | ê³ ë“±í•™êµ 3í•™ë…„
```

âœ… **3ê°œ í–‰** í™•ì¸!

---

#### 4-4. scores í…Œì´ë¸” í™•ì¸ (9ê°œ ì ìˆ˜)

1. ì™¼ìª½ ëª©ë¡ì—ì„œ **"scores"** í´ë¦­
2. **9ê°œ í–‰**ì´ ìˆì–´ì•¼ í•¨ (êµì‚¬1ì´ ì—ì„¸ì´1ì„ 9ê°œ ìš”ì†Œë¡œ ì±„ì )

```
teacher_id                              | essay_id                               | rubric_id                              | score
----------------------------------------|----------------------------------------|----------------------------------------|-------
11111111-1111-1111-1111-111111111111   | 20000001-0000-0000-0000-000000000001  | 10000001-0000-0000-0000-000000000001  | 2
11111111-1111-1111-1111-111111111111   | 20000001-0000-0000-0000-000000000001  | 10000001-0000-0000-0000-000000000002  | 2
... (ì´ 9ê°œ)
```

âœ… **9ê°œ í–‰** í™•ì¸!

---

#### 4-5. ë¹ˆ í…Œì´ë¸”ë“¤

ë‹¤ìŒ í…Œì´ë¸”ë“¤ì€ **ë¹„ì–´ìˆì–´ì•¼ ì •ìƒ**ì…ë‹ˆë‹¤ (ë°ì´í„°ê°€ ìŒ“ì´ë©´ì„œ ì±„ì›Œì§):

- **admins**: 0ê°œ í–‰ (ê´€ë¦¬ìë¥¼ ì§ì ‘ ì¶”ê°€í•´ì•¼ í•¨)
- **mfrm_runs**: 0ê°œ í–‰ (MFRM ë¶„ì„ ì‹¤í–‰ í›„ ìƒì„±)
- **mfrm_results**: 0ê°œ í–‰ (MFRM ë¶„ì„ í›„ ìƒì„±)
- **essay_difficulties**: 0ê°œ í–‰ (MFRM ë¶„ì„ í›„ ìƒì„±)

---

## ğŸ“‹ ë°©ë²• 2: SQL Editorë¡œ í™•ì¸ (SQL ë°©ì‹)

### 1ë‹¨ê³„: SQL Editor ì—´ê¸°

ì™¼ìª½ ì‚¬ì´ë“œë°”:
```
ğŸ” SQL Editor  â† í´ë¦­
```

### 2ë‹¨ê³„: ìƒˆ ì¿¼ë¦¬ ìƒì„±

**"New query"** ë²„íŠ¼ í´ë¦­

---

### 3ë‹¨ê³„: í™•ì¸ ì¿¼ë¦¬ ì‹¤í–‰

#### ì¿¼ë¦¬ 1: ëª¨ë“  í…Œì´ë¸” ëª©ë¡
```sql
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public'
ORDER BY table_name;
```

**"RUN"** í´ë¦­

**ê¸°ëŒ€ ê²°ê³¼:** 8ê°œ í…Œì´ë¸”
```
table_name
------------------
admins
essays
essay_difficulties
mfrm_results
mfrm_runs
rubrics
scores
teachers
```

---

#### ì¿¼ë¦¬ 2: ê° í…Œì´ë¸”ì˜ í–‰ ê°œìˆ˜
```sql
SELECT 
  'admins' as table_name, COUNT(*) as row_count FROM admins
UNION ALL
SELECT 'teachers', COUNT(*) FROM teachers
UNION ALL
SELECT 'essays', COUNT(*) FROM essays
UNION ALL
SELECT 'rubrics', COUNT(*) FROM rubrics
UNION ALL
SELECT 'scores', COUNT(*) FROM scores
UNION ALL
SELECT 'mfrm_runs', COUNT(*) FROM mfrm_runs
UNION ALL
SELECT 'mfrm_results', COUNT(*) FROM mfrm_results
UNION ALL
SELECT 'essay_difficulties', COUNT(*) FROM essay_difficulties
ORDER BY table_name;
```

**"RUN"** í´ë¦­

**ê¸°ëŒ€ ê²°ê³¼:**
```
table_name            | row_count
----------------------|-----------
admins                | 0
essays                | 3
essay_difficulties    | 0
mfrm_results          | 0
mfrm_runs             | 0
rubrics               | 9       âœ… ì¤‘ìš”!
scores                | 9       âœ… ì¤‘ìš”!
teachers              | 3       âœ… ì¤‘ìš”!
```

---

#### ì¿¼ë¦¬ 3: ë£¨ë¸Œë¦­ ìƒì„¸ í™•ì¸ (9ê°œ)
```sql
SELECT 
  id, 
  name, 
  display_order, 
  min_score, 
  max_score
FROM rubrics 
ORDER BY display_order;
```

**ê¸°ëŒ€ ê²°ê³¼:** 9ê°œ í–‰, ëª¨ë‘ min_score=1, max_score=3

---

#### ì¿¼ë¦¬ 4: êµì‚¬ í™•ì¸ (3ëª…)
```sql
SELECT 
  name, 
  email, 
  institution,
  essays_rated_count,
  diagnosis_level
FROM teachers 
ORDER BY name;
```

**ê¸°ëŒ€ ê²°ê³¼:** 3ëª…, ëª¨ë‘ essays_rated_count=0, diagnosis_level=0

---

#### ì¿¼ë¦¬ 5: ì—ì„¸ì´ í™•ì¸ (3ê°œ)
```sql
SELECT 
  title, 
  grade_level, 
  word_count,
  is_anchor,
  is_calibration
FROM essays 
ORDER BY title;
```

**ê¸°ëŒ€ ê²°ê³¼:** 3ê°œ, ëª¨ë‘ is_anchor=false, is_calibration=false

---

#### ì¿¼ë¦¬ 6: ì ìˆ˜ í™•ì¸ (9ê°œ)
```sql
SELECT 
  t.name as teacher_name,
  e.title as essay_title,
  r.name as rubric_name,
  s.score,
  s.rating_duration_seconds
FROM scores s
JOIN teachers t ON s.teacher_id = t.id
JOIN essays e ON s.essay_id = e.id
JOIN rubrics r ON s.rubric_id = r.id
ORDER BY r.display_order;
```

**ê¸°ëŒ€ ê²°ê³¼:** 9ê°œ í–‰ (ê¹€ì˜í¬ êµì‚¬ê°€ "ë‚˜ì˜ ê¿ˆ" ì—ì„¸ì´ë¥¼ 9ê°œ ìš”ì†Œë¡œ ì±„ì )

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### í…Œì´ë¸” ìƒì„± í™•ì¸
- [ ] **admins** í…Œì´ë¸” ì¡´ì¬ (0ê°œ í–‰)
- [ ] **teachers** í…Œì´ë¸” ì¡´ì¬ (**3ê°œ í–‰** âœ…)
- [ ] **essays** í…Œì´ë¸” ì¡´ì¬ (**3ê°œ í–‰** âœ…)
- [ ] **rubrics** í…Œì´ë¸” ì¡´ì¬ (**9ê°œ í–‰** âœ…)
- [ ] **scores** í…Œì´ë¸” ì¡´ì¬ (**9ê°œ í–‰** âœ…)
- [ ] **mfrm_runs** í…Œì´ë¸” ì¡´ì¬ (0ê°œ í–‰)
- [ ] **mfrm_results** í…Œì´ë¸” ì¡´ì¬ (0ê°œ í–‰)
- [ ] **essay_difficulties** í…Œì´ë¸” ì¡´ì¬ (0ê°œ í–‰)

### ë°ì´í„° í™•ì¸
- [ ] **9ê°œ ë£¨ë¸Œë¦­** (ì£¼ì¥ì˜ ëª…ë£Œì„± ~ ì „ì²´ì  ì™„ì„±ë„)
- [ ] **3ëª… êµì‚¬** (ê¹€ì˜í¬, ì´ì² ìˆ˜, ë°•ë¯¼ìˆ˜)
- [ ] **3ê°œ ì—ì„¸ì´** (ë‚˜ì˜ ê¿ˆ, í™˜ê²½ ë³´í˜¸, ì¸ê³µì§€ëŠ¥)
- [ ] **9ê°œ ì ìˆ˜** (êµì‚¬1ì˜ ì—ì„¸ì´1 ì±„ì )

---

## ğŸ¯ ìŠ¤í¬ë¦°ìƒ· ì˜ˆì‹œ

### Table Editor í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Supabase - mfrm-rater-training                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì™¼ìª½ ì‚¬ì´ë“œë°”:        â”‚ ì˜¤ë¥¸ìª½ í…Œì´ë¸” ë‚´ìš©:              â”‚
â”‚                       â”‚                                  â”‚
â”‚ ğŸ“Š Table Editor       â”‚ rubrics (9 rows)                 â”‚
â”‚                       â”‚                                  â”‚
â”‚ ğŸ“ public             â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”œâ”€ admins           â”‚ â”‚ name    â”‚ order   â”‚ ...  â”‚   â”‚
â”‚   â”œâ”€ essays           â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”œâ”€ rubrics â† ì„ íƒ   â”‚ â”‚ ì£¼ì¥... â”‚ 1       â”‚      â”‚   â”‚
â”‚   â”œâ”€ teachers         â”‚ â”‚ ê·¼ê±°... â”‚ 2       â”‚      â”‚   â”‚
â”‚   â””â”€ ...              â”‚ â”‚ ...     â”‚ ...     â”‚      â”‚   â”‚
â”‚                       â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: í…Œì´ë¸”ì´ 8ê°œë³´ë‹¤ ì ìŒ

**ì›ì¸:** schema.sql ì‹¤í–‰ ì¤‘ ì—ëŸ¬ ë°œìƒ

**í•´ê²°:**
1. SQL Editorì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
2. `drop_all.sql` ì‹¤í–‰ í›„ ë‹¤ì‹œ `schema.sql` ì‹¤í–‰

---

### ë¬¸ì œ 2: rubricsê°€ 9ê°œê°€ ì•„ë‹˜

**ì›ì¸:** INSERT ë¬¸ ì‹¤í–‰ ì•ˆ ë¨

**í•´ê²°:**
```sql
-- ë£¨ë¸Œë¦­ ê°œìˆ˜ í™•ì¸
SELECT COUNT(*) FROM rubrics;

-- 0ê°œë©´ ë‹¤ì‹œ ì‚½ì…
-- schema.sqlì˜ 400-420ë²ˆì§¸ ì¤„ ë³µì‚¬ í›„ ì‹¤í–‰
```

---

### ë¬¸ì œ 3: í…Œì´ë¸” ëª©ë¡ì´ ì•ˆ ë³´ì„

**ì›ì¸:** 
- ìŠ¤í‚¤ë§ˆê°€ 'public'ì´ ì•„ë‹˜
- ê¶Œí•œ ë¬¸ì œ

**í•´ê²°:**
1. ì™¼ìª½ ìƒë‹¨ ìŠ¤í‚¤ë§ˆ ì„ íƒ: **public** í™•ì¸
2. ìƒˆë¡œê³ ì¹¨ (F5)
3. ì—¬ì „íˆ ì•ˆ ë³´ì´ë©´ í”„ë¡œì íŠ¸ Ownerì¸ì§€ í™•ì¸

---

## ğŸ“š ë‹¤ìŒ ë‹¨ê³„

ëª¨ë“  í…Œì´ë¸”ì´ ì •ìƒì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆë‹¤ë©´:

### 1. ê´€ë¦¬ì ê³„ì • ì¶”ê°€
```sql
-- SQL Editorì—ì„œ
INSERT INTO admins (email, name, is_active) 
VALUES ('admin@example.com', 'ê´€ë¦¬ì', true);
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- **backend/.env** ì—…ë°ì´íŠ¸ (Settings â†’ API í‚¤ ë³µì‚¬)
- **frontend/.env** ì—…ë°ì´íŠ¸

### 3. ë¡œì»¬ ì‹¤í–‰
```powershell
# í„°ë¯¸ë„ 1: ë°±ì—”ë“œ
cd backend
$env:Path += ";C:\Program Files\R\R-4.2.3\bin\x64"
Rscript -e "pr <- plumber::plumb('fluber.R'); pr$run(host='0.0.0.0', port=8000)"

# í„°ë¯¸ë„ 2: í”„ë¡ íŠ¸ì—”ë“œ
cd frontend
npm start
```

---

## âœ… ì„±ê³µ í™•ì¸

ëª¨ë“  ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ í†µê³¼í–ˆë‹¤ë©´:

ğŸ‰ **Supabase ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • ì™„ë£Œ!**

- âœ… 8ê°œ í…Œì´ë¸” ìƒì„±
- âœ… 9ê°œ ë£¨ë¸Œë¦­ ë°ì´í„°
- âœ… 3ëª… êµì‚¬ ìƒ˜í”Œ ë°ì´í„°
- âœ… 3ê°œ ì—ì„¸ì´ ìƒ˜í”Œ ë°ì´í„°
- âœ… 9ê°œ ì ìˆ˜ ìƒ˜í”Œ ë°ì´í„°

**ì´ì œ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤!** ğŸš€

---

## ğŸ“– ì°¸ê³ 

- **SUPABASE_SETUP.md** - Supabase ì´ˆê¸° ì„¤ì •
- **ENV_SETUP.md** - í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- **RUN_LOCAL.md** - ë¡œì»¬ ì‹¤í–‰ ê°€ì´ë“œ

